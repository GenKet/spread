import phonenumbers
from phonenumbers import timezone
from phonenumbers import geocoder, carrier

numbers = [
    "79040759887", "79094657057", "79117562151", "79119223855", "79146976771", "79184627210", "79385114738", "79530152394", "79604761111", "79660777793",
    "89002434669", "89002783033", "89006237382", "89017908512", "89020008333", "89020070005", "89029421333", "89033202929", "89033220079", "89033277939",
    "89035737727", "89036030222", "89037489557", "89037967347", "89045159716", "89045170372", "89052242999", "89052525482", "89052747874", "89054078762",
    "89054777901", "89055100999", "89055736899", "89055826072", "89057071760", "89060816099", "89061538000", "89064348833", "89067488058", "89067985599",
    "89082055394", "89090023147", "89094315577", "89097073285", "89097525757", "89098859088", "89099111199", "89104533014", "89107376059", "89109445005",
    "89111534904", "89112388079", "89113055883", "89115707725", "89117562151", "89117860383", "89118200990", "89119127788", "89119239583", "89119244457",
    "89126800321", "89134818928", "89138031234", "89138997931", "89139120036", "89143343952", "89143391238", "89147067433", "89149765401", "89150375555",
    "89151413814", "89152182581", "89153388335", "89161128544", "89162623222", "89163425190", "89164930373", "89166978110", "89167078836", "89167202096",
    "89169124296", "89169615755", "89170649466", "89172343791", "89172558855", "89175285837", "89175330666", "89175917997", "89175904166", "89176778971",
    "89178881856", "89180004008", "89180131578", "89180311177", "89180402401", "89180446655", "89180478388", "89180517973", "89180536802", "89180777773",
    "89180883063", "89180943367", "89181222666", "89181373338", "89181494000", "89181505444", "89182315720", "89182474440", "89182545137", "89182572790",
    "89182586886", "89183077373", "89183155665", "891833201953", "891833233999", "89183322210", "89183358446", "89183431909", "89183800202", "89183812555",
    "89183967239", "89184165111", "89184406893", "89184420009", "89184468259", "89184627210", "89184656700", "89184774422", "89184788440", "89184888037",
    "89184907750", "89184940006", "89184976923", "89185004934", "89185305193", "89185464604", "89185754122", "89186143939", "89186349999", "89186458990",
    "89186483584", "89186573991", "89186656009", "89186809908", "89186922054", "891889053202", "891889544200", "891889740966", "89189999099", "89189999666",
    "89192279562", "89195760858", "89196292997", "89196576666", "89197262264", "89206659106", "89214189618", "89215752395", "89215790416", "89219165248",
    "89219340031", "89219340214", "89219376200", "89219503775", "89222677677", "89227365400", "89234114049", "89235957775", "89242526363", "89251200301",
    "89251345138", "89251848494", "89252053435", "89252766602", "89253330485", "89254653015", "89255002515", "89257406603", "89257770688", "89261448069",
    "89261508221", "89261717568", "89262070066", "89262112420", "89262218556", "89262246833", "89262350207", "89262637312", "89265846223", "89266274324",
    "89267207709", "89268143944", "89268516619", "89268555622", "89269022191", "89269931555", "89272231405", "89272231574", "89272707602", "89278000700",
    "89278285650", "89278367432", "89281723334", "89282150212", "89282262180", "89282942639", "89283212129", "89283308888", "89284270784", "89286328162",
    "89289092035", "89297911211", "89299024444", "89300302190", "89311042082", "89313146452", "89315959589", "89331000888", "89337776676", "89374580268",
    "89375255552", "89376192358", "89379419898", "89383098855", "89384444554", "89384457828", "89385000025", "89385125292", "89409137593", "89500136173",
    "89512777215", "89515277766", "89525023963", "89525057711", "89538873997", "89585557778", "89600616955", "89604710941", "89604800707", "89606383159",
    "89614249588", "89615930505", "89618545008", "89619310328", "89620179090", "89621004862", "89624240828", "89628365286", "89629333434", "89629348030",
    "89631289576", "89632992921", "89633202080", "89636714949", "89638686488", "89645603653", "89649401050", "89651299009", "89652511150", "89652953339",
    "89653399911", "89655587889", "89661118889", "89661436536", "89666707070", "89666777166", "896672987221", "896673702979", "896674706633", "896676400130",
    "89678023202", "89679222299", "89684078888", "89684695299", "89689543174", "89689555557", "89689755068", "89691232222", "89692388080", "89775262114",
    "89817376309", "89818165343", "89818167699", "89818175051", "89818173135", "8981823353353", "898182377110", "898183184919", "898183195015", "898183300009",
    "898183388811", "898183500888", "898183500001", "898183599990", "8981885000027", "8981885649019", "8981885780666", "8981886221147", "898188677744",
    "8981887655965", "8981887700712", "898196239100", "8981989568988", "89821952738", "89930130000", "89933345305", "89957973011", "89994153102",
    "89994522495", "89995278901", "899989197195", "899981300751", "899981313135", "899982377110", "899983184919", "899983195015", "899983300009",
    "899983388811", "899983500888", "899983500001", "899983599990", "899985000027", "899985649019", "899985780666", "899986221147", "899986677744",
    "899987655965", "899987700712", "8999896239100", "8999899568988", "899999999993", "899999993888", "899999937777", "899999992966", "9857676705"
]
def get_chat_id():
    for number in numbers:
        good_res = list()
        with app:
            app.import_contacts([InputPhoneContact(phone=number)])
            contacts = app.get_contacts()
            for contact in contacts:
                contact_data = json.loads(str(contact))
                good_res.append(contact_data)
                app.delete_contacts(contact_data['id'])
        try:
            good_res = good_res[0]['id']
        except:
            good_res = None
        return good_res

        try:
            gb_number = phonenumbers.parse(number, "RU")
            Carrier = carrier.name_for_number(gb_number,"ru")
            Region = geocoder.description_for_number(gb_number, "ru")
            print(Carrier, Region)
        except:
            print()

































#
# headers = {
#     "Content-Type": "application/json",
#     "Accept": "application/json",
#     "X-API-Version": "2",
# }
#
# basic = HTTPBasicAuth('25332', '79588228d9f50034fc476444807a8cb9d58b34f02504467aa18d5e001e4e9db4')
#
# r = requests.get('https://api.bepaid.by/products/prd_2c7478647cf6bd3d',auth=basic )
# r = r.json()
# name = r["name"]
# description = r["description"]
# amount = r["amount"]
# amount1 = float(amount/100)
# currency = r["currency"]
# # infinite = r["infinite"]
# pay_url = r["pay_url"]
# payment_url = r["payment_url"]
# confirm_url = r["confirm_url"]
# print(r)
#
#
#
#
#
# data = {
#     "checkout": {
#         "transaction_type": "payment",
#         "attempts": 3,
#         "settings": {
#
#             "return_url": "http://127.0.0.1:4567/return",
#             "success_url": "http://127.0.0.1:4567/success",
#             "decline_url": "http://127.0.0.1:4567/decline",
#             "fail_url": "http://127.0.0.1:4567/fail",
#             "cancel_url": "http://127.0.0.1:4567/cancel",
#             "notification_url": "http://your_shop.com/notification",
#             "button_text": f"Оплатить {amount1} {currency}",
#             "button_next_text": "Вернуться в магазин",
#             "language": "ru",
#             "customer_fields": {
#                 "visible": ["first_name", "last_name","country","phone","birth_date","email"],
#             },
#         },
#         "payment_method": {
#             "types": ["credit_card"]
#         },
#         "order": {
#             "currency": currency,
#             "amount": amount,
#             "description": description
#         },
#         "customer": {
#     }
#     }
# }
#
# r = requests.post('https://checkout.bepaid.by/ctp/api/checkouts', json=data, auth=basic, headers=headers)
# print(r.text)
# r = r.json()
# token = r["checkout"]["token"]
# url = r["checkout"]["redirect_url"]
#
#
# r = requests.get(f"https://checkout.bepaid.by/ctp/api/checkouts/{token}", auth=basic)
# print(url)
# r = r.json()
#
# status = r["checkout"]["status"]
#
# print(status)
#
